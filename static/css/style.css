body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f5f5f5;
    font-size: 0.9rem;
    margin: 0;
}

/* Header section - compact spacing */
#headerSection .mb-3 { margin-bottom: 0.5rem !important; }
#headerSection .mb-2 { margin-bottom: 0.25rem !important; }

/* Stats cards */
.stat-card { transition: transform 0.15s; }
.stat-card:hover { transform: translateY(-3px); box-shadow: 0 4px 8px rgba(0,0,0,0.2); }
.stat-label { font-size: 0.75rem; opacity: 0.85; }
.stat-value { font-size: 1.4rem; font-weight: bold; }

/* Recommendation breakdown cards */
.rec-card { transition: transform 0.15s; }
.rec-card:hover { transform: translateY(-2px); box-shadow: 0 2px 6px rgba(0,0,0,0.15); }

/* AG Grid theme overrides */
.ag-theme-alpine {
    --ag-font-size: 0.75rem;
    --ag-row-height: 24px;
    --ag-header-height: 26px;
    --ag-header-background-color: #343a40;
    --ag-header-foreground-color: white;
    --ag-selected-row-background-color: #cfe2ff;
    --ag-row-hover-color: #e9ecef;
    --ag-odd-row-background-color: #f8f9fa;
    --ag-cell-horizontal-padding: 4px;
    --ag-cell-vertical-padding: 0px;
    --ag-line-height: 20px;
}

/* Force all cells compact */
.ag-theme-alpine .ag-cell {
    line-height: 20px;
    padding-top: 1px;
    padding-bottom: 1px;
}

/* Canvas column headers (blue) */
.ag-header-canvas { background-color: #3b6fc0 !important; }
/* DEC column headers (mauve) */
.ag-header-dec { background-color: #9b4d6e !important; }

/* Trust highlight rows */
.ag-row.trust-highlight { background-color: #ffe0b2 !important; }
.ag-row.trust-highlight:hover { background-color: #ffcc80 !important; }

/* Do-not-use cell highlight */
.ag-cell.do-not-use-cell { background-color: #f8d7da !important; }

/* Cell selection */
.ag-cell.cell-selected { background-color: #b3d9ff !important; outline: 1px solid #0d6efd; }

/* Search & Replace current match highlight */
.ag-cell.sr-highlight { background-color: #ff6b6b !important; outline: 3px solid #dc3545; color: #fff !important; }
.sr-match-text { background-color: #dc3545; color: #fff; font-weight: bold; padding: 0 2px; border-radius: 2px; }

/* Row selection via checkbox */
.ag-row.row-selected { background-color: #cfe2ff !important; }

/* Score badges */
.score-badge {
    display: inline-block;
    padding: 0 4px;
    border-radius: 2px;
    font-weight: bold;
    font-size: 0.7rem;
    min-width: 28px;
    text-align: center;
    line-height: 18px;
}
.score-perfect { background-color: #28a745; color: white; }
.score-high { background-color: #ffc107; color: black; }
.score-medium { background-color: #fd7e14; color: white; }
.score-low { background-color: #dc3545; color: white; }

/* Recommendation column - clip long badges */
.ag-cell[col-id="recommendation"] { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

/* Card defaults */
.card { box-shadow: 0 1px 3px rgba(0,0,0,0.08); }

/* Scrollbar for grid viewport */
.ag-body-viewport::-webkit-scrollbar { width: 8px; }
.ag-body-viewport::-webkit-scrollbar-track { background: #f1f1f1; }
.ag-body-viewport::-webkit-scrollbar-thumb { background: #aaa; border-radius: 4px; }
.ag-body-viewport::-webkit-scrollbar-thumb:hover { background: #777; }

/* Toast notifications */
.toast-msg {
    position: fixed; top: 70px; right: 20px; z-index: 10000;
    color: white; padding: 10px 20px; border-radius: 4px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3); font-size: 0.9rem;
    animation: slideIn 0.3s ease-out;
}
@keyframes slideIn {
    from { transform: translateX(300px); opacity: 0; }
    to { transform: translateX(0); opacity: 1; }
}

/* Rec filter dropdown */
.rec-multi-dropdown .dropdown-toggle {
    font-size: 0.8rem;
    max-width: 100%;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}
.rec-filter-menu {
    max-height: 320px;
    overflow-y: auto;
    min-width: 380px;
    font-size: 0.8rem;
}
.rec-filter-item {
    padding: 0.15rem 0.6rem;
    cursor: pointer;
}
.rec-filter-item:active {
    background-color: inherit;
    color: inherit;
}

/* Column visibility dropdown */
.col-vis-menu {
    max-height: 400px;
    overflow-y: auto;
    min-width: 200px;
    font-size: 0.8rem;
}
.col-vis-item {
    padding: 0.15rem 0.6rem;
    cursor: pointer;
}
.col-vis-item:active {
    background-color: inherit;
    color: inherit;
}

/* Center selection checkboxes */
.ag-selection-checkbox { display: flex !important; justify-content: center; }
.ag-header-select-all { display: flex !important; justify-content: center; }

/* Center SSN/score badge cells */
.ag-cell[col-id="ssn_match"],
.ag-cell[col-id="name_score"],
.ag-cell[col-id="address_score"] { text-align: center; }

/* Enable text selection inside grid cells */
.ag-cell { -webkit-user-select: text !important; user-select: text !important; cursor: text; }
